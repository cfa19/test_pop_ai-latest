{
  "model_name": "all-MiniLM-L6-v2 (ONNX quantized)",
  "model_path": "D:\\VIT\\Work\\Harmonia\\test_pop_ai\\training\\models\\onnx\\semantic_gate",
  "approach": "hierarchical_thresholds",
  "primary_categories": 8,
  "secondary_categories": 25,
  "global_metrics": {
    "primary": {
      "mean_threshold": 0.40125,
      "mean_domain_acceptance": 0.9627133078561897,
      "mean_offtopic_rejection": 0.9609277514023755,
      "mean_f1_score": 0.965690606172031
    }
  },
  "primary_thresholds": {
    "rag_query": 0.21,
    "professional": 0.41,
    "psychological": 0.48,
    "learning": 0.44,
    "social": 0.42,
    "emotional": 0.42,
    "aspirational": 0.47,
    "chitchat": 0.36
  },
  "secondary_thresholds": {
    "professional": {
      "current_position": 0.43,
      "skills": 0.41,
      "certifications": 0.39,
      "experiences": 0.27
    },
    "psychological": {
      "personality_profile": 0.47,
      "values_hierarchy": 0.43,
      "working_styles": 0.49,
      "motivations_core": 0.56
    },
    "learning": {
      "preferred_format": 0.49,
      "knowledge": 0.44,
      "learning_velocity": 0.45
    },
    "social": {
      "people_helped": 0.42,
      "testimonials": 0.4,
      "journey_peers": 0.45,
      "mentors": 0.37
    },
    "emotional": {
      "energy_patterns": 0.45,
      "confidence": 0.41,
      "stress_triggers": 0.44,
      "celebration_moments": 0.47
    },
    "aspirational": {
      "dream_roles": 0.47,
      "salary_expectations": 0.45,
      "impact_legacy": 0.48,
      "skill_expertise": 0.46,
      "values": 0.51,
      "life_goals": 0.43
    }
  },
  "detailed_results": {
    "primary": {
      "rag_query": {
        "threshold": 0.21,
        "metrics": {
          "threshold": 0.21,
          "true_positives": 1457,
          "false_negatives": 34,
          "true_negatives": 17,
          "false_positives": 2,
          "domain_acceptance_rate": 0.97719651240778,
          "offtopic_rejection_rate": 0.8947368421052632,
          "precision": 0.9986291980808774,
          "recall": 0.97719651240778,
          "f1_score": 0.9877966101694916,
          "accuracy": 0.976158940397351,
          "total_domain": 1491,
          "total_offtopic": 19
        },
        "domain_similarity_stats": {
          "mean": 0.42632412910461426,
          "std": 0.11348888278007507
        }
      },
      "professional": {
        "threshold": 0.41,
        "metrics": {
          "threshold": 0.41000000000000003,
          "true_positives": 952,
          "false_negatives": 42,
          "true_negatives": 74,
          "false_positives": 3,
          "domain_acceptance_rate": 0.9577464788732394,
          "offtopic_rejection_rate": 0.961038961038961,
          "precision": 0.9968586387434555,
          "recall": 0.9577464788732394,
          "f1_score": 0.9769112365315545,
          "accuracy": 0.957983193277311,
          "total_domain": 994,
          "total_offtopic": 77
        },
        "domain_similarity_stats": {
          "mean": 0.5889970064163208,
          "std": 0.09147799760103226
        }
      },
      "psychological": {
        "threshold": 0.48,
        "metrics": {
          "threshold": 0.48,
          "true_positives": 967,
          "false_negatives": 29,
          "true_negatives": 648,
          "false_positives": 1,
          "domain_acceptance_rate": 0.9708835341365462,
          "offtopic_rejection_rate": 0.9984591679506933,
          "precision": 0.9989669421487604,
          "recall": 0.9708835341365462,
          "f1_score": 0.984725050916497,
          "accuracy": 0.9817629179331308,
          "total_domain": 996,
          "total_offtopic": 649
        },
        "domain_similarity_stats": {
          "mean": 0.6307812333106995,
          "std": 0.07211852818727493
        }
      },
      "learning": {
        "threshold": 0.44,
        "metrics": {
          "threshold": 0.44,
          "true_positives": 955,
          "false_negatives": 44,
          "true_negatives": 932,
          "false_positives": 67,
          "domain_acceptance_rate": 0.955955955955956,
          "offtopic_rejection_rate": 0.9329329329329329,
          "precision": 0.9344422700587084,
          "recall": 0.955955955955956,
          "f1_score": 0.9450766947055912,
          "accuracy": 0.9444444444444444,
          "total_domain": 999,
          "total_offtopic": 999
        },
        "domain_similarity_stats": {
          "mean": 0.6045946478843689,
          "std": 0.08725324273109436
        }
      },
      "social": {
        "threshold": 0.42,
        "metrics": {
          "threshold": 0.42,
          "true_positives": 973,
          "false_negatives": 26,
          "true_negatives": 302,
          "false_positives": 0,
          "domain_acceptance_rate": 0.973973973973974,
          "offtopic_rejection_rate": 1.0,
          "precision": 1.0,
          "recall": 0.973973973973974,
          "f1_score": 0.9868154158215011,
          "accuracy": 0.9800153727901614,
          "total_domain": 999,
          "total_offtopic": 302
        },
        "domain_similarity_stats": {
          "mean": 0.6036248803138733,
          "std": 0.08638576418161392
        }
      },
      "emotional": {
        "threshold": 0.42,
        "metrics": {
          "threshold": 0.42,
          "true_positives": 951,
          "false_negatives": 47,
          "true_negatives": 738,
          "false_positives": 22,
          "domain_acceptance_rate": 0.9529058116232465,
          "offtopic_rejection_rate": 0.9710526315789474,
          "precision": 0.9773895169578622,
          "recall": 0.9529058116232465,
          "f1_score": 0.964992389649924,
          "accuracy": 0.9607508532423208,
          "total_domain": 998,
          "total_offtopic": 760
        },
        "domain_similarity_stats": {
          "mean": 0.5632821917533875,
          "std": 0.08324918150901794
        }
      },
      "aspirational": {
        "threshold": 0.47,
        "metrics": {
          "threshold": 0.47000000000000003,
          "true_positives": 957,
          "false_negatives": 40,
          "true_negatives": 135,
          "false_positives": 1,
          "domain_acceptance_rate": 0.9598796389167502,
          "offtopic_rejection_rate": 0.9926470588235294,
          "precision": 0.9989561586638831,
          "recall": 0.9598796389167502,
          "f1_score": 0.9790281329923274,
          "accuracy": 0.9638128861429832,
          "total_domain": 997,
          "total_offtopic": 136
        },
        "domain_similarity_stats": {
          "mean": 0.6348428726196289,
          "std": 0.08383914083242416
        }
      },
      "chitchat": {
        "threshold": 0.36,
        "metrics": {
          "threshold": 0.36,
          "true_positives": 753,
          "false_negatives": 37,
          "true_negatives": 1919,
          "false_positives": 130,
          "domain_acceptance_rate": 0.9531645569620253,
          "offtopic_rejection_rate": 0.9365544167886775,
          "precision": 0.8527746319365799,
          "recall": 0.9531645569620253,
          "f1_score": 0.9001793185893604,
          "accuracy": 0.9411764705882353,
          "total_domain": 790,
          "total_offtopic": 2049
        },
        "domain_similarity_stats": {
          "mean": 0.5764979124069214,
          "std": 0.12037795037031174
        }
      }
    },
    "secondary": {
      "professional": {
        "current_position": {
          "threshold": 0.43,
          "metrics": {
            "threshold": 0.43,
            "true_positives": 397,
            "false_negatives": 18,
            "true_negatives": 74,
            "false_positives": 3,
            "domain_acceptance_rate": 0.9566265060240964,
            "offtopic_rejection_rate": 0.961038961038961,
            "precision": 0.9925,
            "recall": 0.9566265060240964,
            "f1_score": 0.9742331288343559,
            "accuracy": 0.9573170731707317,
            "total_domain": 415,
            "total_offtopic": 77
          },
          "domain_similarity_stats": {
            "mean": 0.6118022203445435,
            "std": 0.0899864211678505
          }
        },
        "skills": {
          "threshold": 0.41,
          "metrics": {
            "threshold": 0.41000000000000003,
            "true_positives": 347,
            "false_negatives": 12,
            "true_negatives": 74,
            "false_positives": 3,
            "domain_acceptance_rate": 0.9665738161559888,
            "offtopic_rejection_rate": 0.961038961038961,
            "precision": 0.9914285714285714,
            "recall": 0.9665738161559888,
            "f1_score": 0.9788434414668546,
            "accuracy": 0.9655963302752294,
            "total_domain": 359,
            "total_offtopic": 77
          },
          "domain_similarity_stats": {
            "mean": 0.5807095766067505,
            "std": 0.08611489832401276
          }
        },
        "certifications": {
          "threshold": 0.39,
          "metrics": {
            "threshold": 0.39,
            "true_positives": 191,
            "false_negatives": 6,
            "true_negatives": 76,
            "false_positives": 1,
            "domain_acceptance_rate": 0.9695431472081218,
            "offtopic_rejection_rate": 0.987012987012987,
            "precision": 0.9947916666666666,
            "recall": 0.9695431472081218,
            "f1_score": 0.9820051413881749,
            "accuracy": 0.9744525547445255,
            "total_domain": 197,
            "total_offtopic": 77
          },
          "domain_similarity_stats": {
            "mean": 0.6350039839744568,
            "std": 0.11149031668901443
          }
        },
        "experiences": {
          "threshold": 0.27,
          "metrics": {
            "threshold": 0.27,
            "true_positives": 23,
            "false_negatives": 0,
            "true_negatives": 73,
            "false_positives": 4,
            "domain_acceptance_rate": 1.0,
            "offtopic_rejection_rate": 0.948051948051948,
            "precision": 0.8518518518518519,
            "recall": 1.0,
            "f1_score": 0.92,
            "accuracy": 0.96,
            "total_domain": 23,
            "total_offtopic": 77
          },
          "domain_similarity_stats": {
            "mean": 0.6324154734611511,
            "std": 0.13536685705184937
          }
        }
      },
      "psychological": {
        "personality_profile": {
          "threshold": 0.47,
          "metrics": {
            "threshold": 0.47000000000000003,
            "true_positives": 314,
            "false_negatives": 4,
            "true_negatives": 648,
            "false_positives": 1,
            "domain_acceptance_rate": 0.9874213836477987,
            "offtopic_rejection_rate": 0.9984591679506933,
            "precision": 0.9968253968253968,
            "recall": 0.9874213836477987,
            "f1_score": 0.9921011058451816,
            "accuracy": 0.9948293691830403,
            "total_domain": 318,
            "total_offtopic": 649
          },
          "domain_similarity_stats": {
            "mean": 0.6363784670829773,
            "std": 0.06881741434335709
          }
        },
        "values_hierarchy": {
          "threshold": 0.43,
          "metrics": {
            "threshold": 0.43,
            "true_positives": 245,
            "false_negatives": 0,
            "true_negatives": 648,
            "false_positives": 1,
            "domain_acceptance_rate": 1.0,
            "offtopic_rejection_rate": 0.9984591679506933,
            "precision": 0.9959349593495935,
            "recall": 1.0,
            "f1_score": 0.9979633401221996,
            "accuracy": 0.9988814317673378,
            "total_domain": 245,
            "total_offtopic": 649
          },
          "domain_similarity_stats": {
            "mean": 0.6604361534118652,
            "std": 0.06850401312112808
          }
        },
        "working_styles": {
          "threshold": 0.49,
          "metrics": {
            "threshold": 0.49,
            "true_positives": 243,
            "false_negatives": 8,
            "true_negatives": 645,
            "false_positives": 4,
            "domain_acceptance_rate": 0.9681274900398407,
            "offtopic_rejection_rate": 0.9938366718027735,
            "precision": 0.9838056680161943,
            "recall": 0.9681274900398407,
            "f1_score": 0.9759036144578314,
            "accuracy": 0.9866666666666667,
            "total_domain": 251,
            "total_offtopic": 649
          },
          "domain_similarity_stats": {
            "mean": 0.6512660384178162,
            "std": 0.07442684471607208
          }
        },
        "motivations_core": {
          "threshold": 0.56,
          "metrics": {
            "threshold": 0.56,
            "true_positives": 174,
            "false_negatives": 8,
            "true_negatives": 649,
            "false_positives": 0,
            "domain_acceptance_rate": 0.9560439560439561,
            "offtopic_rejection_rate": 1.0,
            "precision": 1.0,
            "recall": 0.9560439560439561,
            "f1_score": 0.9775280898876404,
            "accuracy": 0.9903730445246691,
            "total_domain": 182,
            "total_offtopic": 649
          },
          "domain_similarity_stats": {
            "mean": 0.6934142112731934,
            "std": 0.08101903647184372
          }
        }
      },
      "learning": {
        "preferred_format": {
          "threshold": 0.49,
          "metrics": {
            "threshold": 0.49,
            "true_positives": 486,
            "false_negatives": 25,
            "true_negatives": 985,
            "false_positives": 14,
            "domain_acceptance_rate": 0.9510763209393346,
            "offtopic_rejection_rate": 0.985985985985986,
            "precision": 0.972,
            "recall": 0.9510763209393346,
            "f1_score": 0.9614243323442137,
            "accuracy": 0.9741721854304636,
            "total_domain": 511,
            "total_offtopic": 999
          },
          "domain_similarity_stats": {
            "mean": 0.6305464506149292,
            "std": 0.07760609686374664
          }
        },
        "knowledge": {
          "threshold": 0.44,
          "metrics": {
            "threshold": 0.44,
            "true_positives": 265,
            "false_negatives": 12,
            "true_negatives": 963,
            "false_positives": 36,
            "domain_acceptance_rate": 0.9566787003610109,
            "offtopic_rejection_rate": 0.963963963963964,
            "precision": 0.8803986710963455,
            "recall": 0.9566787003610109,
            "f1_score": 0.9169550173010381,
            "accuracy": 0.9623824451410659,
            "total_domain": 277,
            "total_offtopic": 999
          },
          "domain_similarity_stats": {
            "mean": 0.6105751991271973,
            "std": 0.09005612134933472
          }
        },
        "learning_velocity": {
          "threshold": 0.45,
          "metrics": {
            "threshold": 0.45,
            "true_positives": 204,
            "false_negatives": 7,
            "true_negatives": 910,
            "false_positives": 89,
            "domain_acceptance_rate": 0.966824644549763,
            "offtopic_rejection_rate": 0.9109109109109109,
            "precision": 0.6962457337883959,
            "recall": 0.966824644549763,
            "f1_score": 0.8095238095238096,
            "accuracy": 0.9206611570247933,
            "total_domain": 211,
            "total_offtopic": 999
          },
          "domain_similarity_stats": {
            "mean": 0.6255787014961243,
            "std": 0.0898638665676117
          }
        }
      },
      "social": {
        "people_helped": {
          "threshold": 0.42,
          "metrics": {
            "threshold": 0.42,
            "true_positives": 225,
            "false_negatives": 4,
            "true_negatives": 302,
            "false_positives": 0,
            "domain_acceptance_rate": 0.982532751091703,
            "offtopic_rejection_rate": 1.0,
            "precision": 1.0,
            "recall": 0.982532751091703,
            "f1_score": 0.9911894273127753,
            "accuracy": 0.992467043314501,
            "total_domain": 229,
            "total_offtopic": 302
          },
          "domain_similarity_stats": {
            "mean": 0.6290227174758911,
            "std": 0.08261962980031967
          }
        },
        "testimonials": {
          "threshold": 0.4,
          "metrics": {
            "threshold": 0.4,
            "true_positives": 261,
            "false_negatives": 2,
            "true_negatives": 302,
            "false_positives": 0,
            "domain_acceptance_rate": 0.9923954372623575,
            "offtopic_rejection_rate": 1.0,
            "precision": 1.0,
            "recall": 0.9923954372623575,
            "f1_score": 0.9961832061068702,
            "accuracy": 0.9964601769911504,
            "total_domain": 263,
            "total_offtopic": 302
          },
          "domain_similarity_stats": {
            "mean": 0.6182436347007751,
            "std": 0.08808983117341995
          }
        },
        "journey_peers": {
          "threshold": 0.45,
          "metrics": {
            "threshold": 0.45,
            "true_positives": 321,
            "false_negatives": 14,
            "true_negatives": 302,
            "false_positives": 0,
            "domain_acceptance_rate": 0.9582089552238806,
            "offtopic_rejection_rate": 1.0,
            "precision": 1.0,
            "recall": 0.9582089552238806,
            "f1_score": 0.9786585365853658,
            "accuracy": 0.978021978021978,
            "total_domain": 335,
            "total_offtopic": 302
          },
          "domain_similarity_stats": {
            "mean": 0.6127861738204956,
            "std": 0.0890064388513565
          }
        },
        "mentors": {
          "threshold": 0.37,
          "metrics": {
            "threshold": 0.37,
            "true_positives": 172,
            "false_negatives": 0,
            "true_negatives": 302,
            "false_positives": 0,
            "domain_acceptance_rate": 1.0,
            "offtopic_rejection_rate": 1.0,
            "precision": 1.0,
            "recall": 1.0,
            "f1_score": 1.0,
            "accuracy": 1.0,
            "total_domain": 172,
            "total_offtopic": 302
          },
          "domain_similarity_stats": {
            "mean": 0.6575590372085571,
            "std": 0.1151663213968277
          }
        }
      },
      "emotional": {
        "energy_patterns": {
          "threshold": 0.45,
          "metrics": {
            "threshold": 0.45,
            "true_positives": 279,
            "false_negatives": 14,
            "true_negatives": 744,
            "false_positives": 16,
            "domain_acceptance_rate": 0.9522184300341296,
            "offtopic_rejection_rate": 0.9789473684210527,
            "precision": 0.9457627118644067,
            "recall": 0.9522184300341296,
            "f1_score": 0.9489795918367346,
            "accuracy": 0.9715099715099715,
            "total_domain": 293,
            "total_offtopic": 760
          },
          "domain_similarity_stats": {
            "mean": 0.6284400224685669,
            "std": 0.10200054943561554
          }
        },
        "confidence": {
          "threshold": 0.41,
          "metrics": {
            "threshold": 0.41000000000000003,
            "true_positives": 164,
            "false_negatives": 4,
            "true_negatives": 760,
            "false_positives": 0,
            "domain_acceptance_rate": 0.9761904761904762,
            "offtopic_rejection_rate": 1.0,
            "precision": 1.0,
            "recall": 0.9761904761904762,
            "f1_score": 0.9879518072289156,
            "accuracy": 0.9956896551724138,
            "total_domain": 168,
            "total_offtopic": 760
          },
          "domain_similarity_stats": {
            "mean": 0.6275057792663574,
            "std": 0.1051325723528862
          }
        },
        "stress_triggers": {
          "threshold": 0.44,
          "metrics": {
            "threshold": 0.44,
            "true_positives": 263,
            "false_negatives": 9,
            "true_negatives": 745,
            "false_positives": 15,
            "domain_acceptance_rate": 0.9669117647058824,
            "offtopic_rejection_rate": 0.9802631578947368,
            "precision": 0.9460431654676259,
            "recall": 0.9669117647058824,
            "f1_score": 0.9563636363636363,
            "accuracy": 0.9767441860465116,
            "total_domain": 272,
            "total_offtopic": 760
          },
          "domain_similarity_stats": {
            "mean": 0.5962186455726624,
            "std": 0.08546696603298187
          }
        },
        "celebration_moments": {
          "threshold": 0.47,
          "metrics": {
            "threshold": 0.47000000000000003,
            "true_positives": 252,
            "false_negatives": 13,
            "true_negatives": 757,
            "false_positives": 3,
            "domain_acceptance_rate": 0.9509433962264151,
            "offtopic_rejection_rate": 0.9960526315789474,
            "precision": 0.9882352941176471,
            "recall": 0.9509433962264151,
            "f1_score": 0.9692307692307692,
            "accuracy": 0.984390243902439,
            "total_domain": 265,
            "total_offtopic": 760
          },
          "domain_similarity_stats": {
            "mean": 0.6158746480941772,
            "std": 0.0874137207865715
          }
        }
      },
      "aspirational": {
        "dream_roles": {
          "threshold": 0.47,
          "metrics": {
            "threshold": 0.47000000000000003,
            "true_positives": 417,
            "false_negatives": 5,
            "true_negatives": 136,
            "false_positives": 0,
            "domain_acceptance_rate": 0.9881516587677726,
            "offtopic_rejection_rate": 1.0,
            "precision": 1.0,
            "recall": 0.9881516587677726,
            "f1_score": 0.9940405244338498,
            "accuracy": 0.9910394265232975,
            "total_domain": 422,
            "total_offtopic": 136
          },
          "domain_similarity_stats": {
            "mean": 0.6697717308998108,
            "std": 0.07446181774139404
          }
        },
        "salary_expectations": {
          "threshold": 0.45,
          "metrics": {
            "threshold": 0.45,
            "true_positives": 21,
            "false_negatives": 0,
            "true_negatives": 136,
            "false_positives": 0,
            "domain_acceptance_rate": 1.0,
            "offtopic_rejection_rate": 1.0,
            "precision": 1.0,
            "recall": 1.0,
            "f1_score": 1.0,
            "accuracy": 1.0,
            "total_domain": 21,
            "total_offtopic": 136
          },
          "domain_similarity_stats": {
            "mean": 0.6691954135894775,
            "std": 0.09315601736307144
          }
        },
        "impact_legacy": {
          "threshold": 0.48,
          "metrics": {
            "threshold": 0.48,
            "true_positives": 186,
            "false_negatives": 7,
            "true_negatives": 136,
            "false_positives": 0,
            "domain_acceptance_rate": 0.9637305699481865,
            "offtopic_rejection_rate": 1.0,
            "precision": 1.0,
            "recall": 0.9637305699481865,
            "f1_score": 0.9815303430079156,
            "accuracy": 0.9787234042553191,
            "total_domain": 193,
            "total_offtopic": 136
          },
          "domain_similarity_stats": {
            "mean": 0.6511457562446594,
            "std": 0.08880295604467392
          }
        },
        "skill_expertise": {
          "threshold": 0.46,
          "metrics": {
            "threshold": 0.46,
            "true_positives": 189,
            "false_negatives": 9,
            "true_negatives": 136,
            "false_positives": 0,
            "domain_acceptance_rate": 0.9545454545454546,
            "offtopic_rejection_rate": 1.0,
            "precision": 1.0,
            "recall": 0.9545454545454546,
            "f1_score": 0.9767441860465117,
            "accuracy": 0.9730538922155688,
            "total_domain": 198,
            "total_offtopic": 136
          },
          "domain_similarity_stats": {
            "mean": 0.6469608545303345,
            "std": 0.0951724499464035
          }
        },
        "values": {
          "threshold": 0.51,
          "metrics": {
            "threshold": 0.51,
            "true_positives": 118,
            "false_negatives": 5,
            "true_negatives": 136,
            "false_positives": 0,
            "domain_acceptance_rate": 0.959349593495935,
            "offtopic_rejection_rate": 1.0,
            "precision": 1.0,
            "recall": 0.959349593495935,
            "f1_score": 0.979253112033195,
            "accuracy": 0.9806949806949807,
            "total_domain": 123,
            "total_offtopic": 136
          },
          "domain_similarity_stats": {
            "mean": 0.6774663329124451,
            "std": 0.08138572424650192
          }
        },
        "life_goals": {
          "threshold": 0.43,
          "metrics": {
            "threshold": 0.43,
            "true_positives": 38,
            "false_negatives": 2,
            "true_negatives": 120,
            "false_positives": 16,
            "domain_acceptance_rate": 0.95,
            "offtopic_rejection_rate": 0.8823529411764706,
            "precision": 0.7037037037037037,
            "recall": 0.95,
            "f1_score": 0.8085106382978724,
            "accuracy": 0.8977272727272727,
            "total_domain": 40,
            "total_offtopic": 136
          },
          "domain_similarity_stats": {
            "mean": 0.6256996393203735,
            "std": 0.10696054250001907
          }
        }
      }
    }
  },
  "offtopic_distribution": {
    "primary": {
      "emotional": 760,
      "learning": 999,
      "chitchat": 2049,
      "psychological": 649,
      "rag_query": 19,
      "social": 302,
      "aspirational": 136,
      "professional": 77
    }
  }
}